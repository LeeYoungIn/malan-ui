@config "./tailwind.components.config.ts";

@tailwind components;
@tailwind utilities;

@layer components {
  .accordion {
    @apply rounded-xl overflow-hidden;
    @apply [&>button]:relative [&>button]:z-10 [&>button]:flex [&>button]:items-center [&>button]:w-full;
    @apply [&>button]:transition-[border-radius] [&[aria-expanded="true"]>button]:rounded-b-none;
    @apply [&>button]:after:content-[''] [&>button]:after:bg-black [&>button]:after:w-4 [&>button]:after:h-4;
    @apply [&>button]:after:transition-[height] [&>button]:after:duration-[500ms] [&>button]:after:ease-linear;
    @apply [&>button]:after:mask-[url("./res/down.svg")] [&>button]:after:mask-default [&[aria-expanded="true"]>button]:after:-rotate-180;
    @apply [&>button]:px-6 [&>ul]:px-6 [&>button]:bg-stone-200 [&>button]:hover:bg-stone-200 [&>ul]:bg-stone-200;
    @apply [&>ul]:grid [&>ul]:auto-rows-fr [&>ul]:divide-y [&>ul]:divide-white;
    @apply [&>ul]:transition-accordion [&>ul]:duration-200 [&>ul]:overflow-hidden [&>ul]:rounded-b-xl;
    @apply [&>ul]:transition-all [&>ul]:max-h-0 [&[aria-expanded="true"]>ul]:max-h-full [&>ul]:-translate-y-full [&[aria-expanded="true"]>ul]:translate-y-0;
  }

  .btn {
    @apply rounded-xl text-black;
  }

  .btn-group {
    @apply flex border border-stone-200 dark:border-stone-800 divide-x divide-stone-200 dark:divide-stone-800 rounded-xl;
  }

  .btn-group > div {
    @apply text-black dark:text-white [&>.btn]:text-black [&>.btn]:dark:text-white [&>.btn]:rounded-none;
    @apply [&>.btn]:hover:bg-stone-200 [&>.btn]:dark:hover:bg-stone-800;
    @apply first:rounded-l-xl last:rounded-r-xl [&:first-child>.btn]:rounded-l-xl [&:last-child>.btn]:rounded-r-xl;
  }

  .input-text,
  textarea {
    @apply w-full px-4 py-3 outline-0 rounded-xl shadow-none;
    @apply border border-stone-300 dark:border-stone-700 placeholder-stone-400 dark:placeholder-stone-600 placeholder:font-light bg-transparent;
    @apply disabled:opacity-70;
  }

  .input-checkbox,
  .input-radio {
    @apply w-4 h-4 p-0 appearance-none align-middle;
    @apply disabled:cursor-not-allowed disabled:opacity-50
  }

  .input-checkbox {
    @apply bg-stone-300 checked:bg-stone-400 dark:bg-stone-600 checked:dark:bg-stone-500 rounded-md;
    @apply mask-[url("./res/tick_square_empty.svg")] checked:mask-[url("./res/tick_square.svg")] mask-default;
  }

  .input-checkbox:checked {
    animation: animateCheck 150ms linear;
  }

  .input-radio {
    @apply rounded-full;
    @apply border border-stone-300 checked:border-stone-400 dark:border-stone-600 checked:dark:border-stone-500;
    @apply checked:after:bg-stone-400 after:dark:bg-stone-600 checked:after:dark:bg-stone-500;
    @apply after:content-[''] after:block after:w-2/3 after:h-2/3 after:mx-auto after:mt-[50%] after:origin-center after:rounded-full;
    @apply after:-translate-y-1/2;
  }

  .input-radio:checked:after {
    animation: animateRadio 150ms linear;
  }

  input[type="number"]::-webkit-outer-spin-button,
  input[type="number"]::-webkit-inner-spin-button {
    @apply m-0 appearance-none;
  }

  .input-group {
    @apply [&>input]:border-0 [&>input]:flex-1 [&>input]:w-auto [&>input]:rounded-none;
    @apply [&>span]:px-4 [&>span]:py-3 [&>span]:bg-stone-200 [&>span]:dark:bg-stone-800;
    @apply [&>span:first-child]:rounded-l-xl [&>span:last-child]:rounded-r-xl;
    @apply flex items-stretch w-full rounded-xl;
    @apply border border-stone-200 dark:border-stone-800;
  }

  progress {
    @apply w-full h-2 rounded-full;
  }

  progress::-webkit-progress-bar,
  progress::-webkit-progress-value {
    @apply bg-stone-200 dark:bg-stone-700 rounded-full;
  }

  progress::-webkit-progress-value {
    @apply bg-stone-400 dark:bg-stone-400;
  }
}

@layer utilities {
  .mask-default {
    mask-repeat: no-repeat;
    mask-position: center left;
    mask-size: contain;
  }
}

@keyframes animateCheck {
  from {
    opacity: 0;
    transform: scale(120%);
  }
  to {
    opacity: 1;
    transform: scale(100%);
  }
}

@keyframes animateRadio {
  from {
    opacity: 0;
    transform: translateY(-50%) scale(120%);
  }
  to {
    opacity: 1;
    transform: translateY(-50%) scale(100%);
  }
}