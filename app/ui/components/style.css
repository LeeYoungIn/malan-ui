@config "./tailwind.components.config.ts";

@tailwind components;
@tailwind utilities;

@layer components {
  .accordion {
    @apply rounded-xl overflow-hidden;
    @apply [&>button]:relative [&>button]:z-10 [&>button]:flex [&>button]:items-center [&>button]:justify-between [&>button]:w-full;
    @apply [&>button]:transition-[border-radius] [&[aria-expanded="true"]>button]:rounded-b-none;
    @apply [&>button]:after:content-[''] [&>button]:after:bg-black [&>button]:after:w-4 [&>button]:after:h-4;
    @apply [&>button]:after:transition-transform [&>button]:after:duration-200;
    @apply [&>button]:after:mask-[url("./res/down.svg")] [&>button]:after:mask-default [&[aria-expanded="true"]>button]:after:-rotate-180;
    @apply [&>ul]:bg-stone-200 [&>ul]:dark:bg-white hover:[&>button]:bg-stone-200 hover:[&>ul]:bg-stone-200 [&>ul]:dark:text-black;
    @apply [&>ul]:grid [&>ul]:auto-rows-fr [&>ul]:divide-y [&>ul]:divide-stone-700 [&>ul]:dark:divide-stone-200;
    @apply [&>ul]:transition-accordion [&>ul]:duration-200 [&>ul]:overflow-hidden [&>ul]:rounded-b-xl;
    @apply [&>ul]:max-h-0 [&[aria-expanded="true"]>ul]:max-h-full [&>ul]:-translate-y-full [&[aria-expanded="true"]>ul]:translate-y-0;
  }

  .btn {
    @apply rounded-xl text-black;
  }

  .btn-group {
    @apply flex divide-x divide-stone-300 dark:divide-stone-800;
    @apply [&>div>.btn]:rounded-none [&>div:first-child]:rounded-l-xl [&>div:last-child]:rounded-r-xl [&>div:first-child>.btn]:rounded-l-xl [&>div:last-child>.btn]:rounded-r-xl;
  }

  .btn-group,
  .switch-group {
    @apply border border-stone-200 dark:border-stone-800 rounded-xl;
  }

  .collapse-container {
    @apply [&>li>label]:flex [&>li>label]:items-center [&>li>label]:justify-between [&>li>label]:cursor-pointer;
    @apply [&>li>label]:font-semibold [&>li>label]:text-lg [&>li>label+div]:text-stone-600 [&>li>label+div]:dark:text-stone-400;
    @apply divide-y divide-stone-700 dark:divide-stone-300;
    @apply [&>li>label]:after:content-[''] [&>li>label]:after:bg-black [&>li>label]:after:dark:bg-white [&>li>label]:after:w-4 [&>li>label]:after:h-4;
    @apply [&>li>label]:after:mask-[url("./res/down.svg")] [&>li>label]:after:mask-default;
    @apply [&>li>label]:after:transition-transform [&>li>label]:after:duration-200;
  }

  input + label {
    @apply cursor-pointer;
  }

  .input-default,
  textarea {
    @apply w-full px-4 py-3 outline-0 rounded-xl shadow-none;
    @apply border border-stone-300 dark:border-stone-700 placeholder-stone-400 dark:placeholder-stone-600 placeholder:font-light bg-transparent;
    @apply disabled:opacity-70;
  }

  .input-checkbox,
  .input-radio {
    @apply w-4 h-4 p-0 appearance-none align-middle;
    @apply disabled:cursor-not-allowed disabled:opacity-50
  }

  .input-checkbox {
    @apply bg-stone-300 checked:bg-stone-400 dark:bg-stone-600 checked:dark:bg-stone-500 rounded-md;
    @apply mask-[url("./res/tick_square_empty.svg")] checked:mask-[url("./res/tick_square.svg")] mask-default;
  }

  .input-checkbox:checked {
    animation: animateCheck 150ms linear;
  }

  .input-radio {
    @apply rounded-full;
    @apply border border-stone-300 checked:border-stone-400 dark:border-stone-600 checked:dark:border-stone-500;
    @apply checked:after:bg-stone-400 [&:not(:checked)]:after:dark:bg-transparent checked:after:dark:bg-stone-500;
    @apply after:content-[''] after:block after:w-2/3 after:h-2/3 after:mx-auto after:mt-[50%] after:origin-center after:rounded-full;
    @apply after:-translate-y-1/2;
  }

  .input-radio:checked:after {
    animation: animateRadio 150ms linear;
  }

  input[type="number"]::-webkit-outer-spin-button,
  input[type="number"]::-webkit-inner-spin-button {
    @apply m-0 appearance-none;
  }

  .input-group {
    @apply [&>input]:border-0 [&>input]:flex-1 [&>input]:w-auto [&>input]:rounded-none;
    @apply [&>span]:px-4 [&>span]:py-3 [&>span]:bg-stone-200 [&>span]:dark:bg-stone-800;
    @apply [&>span:first-child]:rounded-l-xl [&>span:last-child]:rounded-r-xl;
    @apply flex items-stretch w-full rounded-xl;
    @apply border border-stone-200 dark:border-stone-800;
  }

  .input-toggle {
    background: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%23ffffff'/%3e%3c/svg%3e");
    @apply w-10 h-6 appearance-none bg-stone-300 checked:bg-stone-700 dark:bg-stone-700 checked:dark:bg-stone-400 bg-no-repeat rounded-full;
    @apply bg-[left_center] checked:bg-[right_center] transition-[background-position];
  }

  .popper-dropdown {
    @apply min-w-44 [&_.popper-dropdown-item]:min-w-44;
    @apply pl-4 pr-3 py-2 bg-white dark:bg-stone-950 rounded-xl shadow-xl shadow-stone-100 dark:shadow-none dark:border-2 dark:border-stone-800;
  }

  .popper-dropdown .popper-dropdown-item {
    @apply cursor-pointer py-2 text-stone-600/60 hover:text-stone-600 after:bg-stone-600/60 hover:after:bg-stone-600;
    @apply dark:text-stone-400/50 dark:hover:text-stone-400 dark:after:bg-stone-400/50 dark:hover:after:bg-stone-400;
    @apply after:w-3.5 after:h-3.5 after:mask-default after:mask-[url("./res/arrow_right.svg")];
  }

  progress {
    @apply w-full h-2 rounded-full;
  }

  progress::-webkit-progress-bar,
  progress::-webkit-progress-value {
    @apply bg-stone-200 dark:bg-stone-700 rounded-full;
  }

  progress::-webkit-progress-value {
    @apply bg-stone-400 dark:bg-stone-400;
  }

  .modal {
    @apply rounded-xl bg-white dark:bg-stone-900 border border-stone-200 dark:border-2 dark:border-stone-800 dark:text-stone-50;
    @apply [&>.modal-footer]:border-t [&>.modal-footer]:dark:border-t-2 dark:[&>.modal-footer]:border-stone-800;
    @apply [&>*]:px-6 [&>*]:py-4 [&>.modal-header+.modal-body]:pt-2;
    @apply [&>.modal-footer]:p-0 [&>.modal-footer>button]:dark:text-stone-50 [&>.modal-footer>button:hover]:bg-stone-100 [&>.modal-footer>button:hover]:dark:bg-stone-800;
    @apply [&>.modal-footer>button]:rounded-none [&>.modal-footer>button:first-child]:rounded-bl-xl [&>.modal-footer>button:last-child]:rounded-br-xl;
  }

  .modal .modal-close {
    @apply mask-default mask-[url("./res/close_square.svg")] bg-black dark:bg-white;
    @apply w-6 h-6 rounded-none;
  }

  .table {
    @apply [&_th]:font-medium [&_th]:text-stone-400 [&_th]:dark:text-stone-600 [&_th]:text-sm;
    @apply [&_th]:px-4 [&_th]:py-3 [&_th]:text-left;
    @apply [&_td]:px-4 [&_td]:py-3 [&_td]:text-left;
    @apply [&.table-default_th]:bg-stone-100 [&.table-default_th]:dark:bg-stone-900 [&.table-default_th:first-child]:rounded-l-xl [&.table-default_th:last-child]:rounded-r-xl;
    @apply [&.table-line_th]:border-b [&.table-line_th]:border-stone-200 [&.table-line_th]:dark:border-stone-800;
    @apply [&.table-line_td]:border-b [&.table-line_td]:border-stone-200 [&.table-line_td]:dark:border-stone-800;
  }
}

@layer utilities {
  .mask-default {
    mask-repeat: no-repeat;
    mask-position: center left;
    mask-size: contain;
  }
}

@keyframes animateCheck {
  from {
    opacity: 0;
    transform: scale(120%);
  }
  to {
    opacity: 1;
    transform: scale(100%);
  }
}

@keyframes animateRadio {
  from {
    opacity: 0;
    transform: translateY(-50%) scale(120%);
  }
  to {
    opacity: 1;
    transform: translateY(-50%) scale(100%);
  }
}